<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Pedal Prep - Add Bike</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
<style>
  #banner {
    position: fixed;
    top: 0; left: 0; right: 0;
    padding: 1rem;
    text-align: center;
    z-index: 9999;
    display: none;
  }
  #banner.success { background-color: #d4edda; color: #155724; }
  #banner.error { background-color: #f8d7da; color: #721c24; }
</style>
</head>
<body class="bg-light" style="padding-top: 60px;">

<div id="banner" class="{{ message_type }}" style="display:none;">
    {% if message %}
        {{ message }}
    {% endif %}
    </div>

<div class="container mt-4">
  <h2>Add Your Bike</h2>

  <form method="POST" action="{{ url_for('add_bike') }}">
    <div class="mb-3">
      <label for="type" class="form-label">Bike Type *</label>
      <input type="text" class="form-control" id="type" name="type" placeholder="e.g., Road, Mountain" required />
    </div>

    <div class="mb-3">
      <label for="brand" class="form-label">Brand *</label>
      <input type="text" class="form-control" id="brand" name="brand" placeholder="Brand name" required />
    </div>

    <div class="mb-3">
      <label for="model" class="form-label">Model</label>
      <input type="text" class="form-control" id="model" name="model" placeholder="Model name (optional)" />
    </div>

    <div class="mb-3">
      <label for="year" class="form-label">Year</label>
      <input type="text" class="form-control" id="year" name="year" placeholder="Year (optional)" />
    </div>

    <button type="submit" class="btn btn-primary">Add Bike</button>
    <a href="{{ url_for('home') }}" class="btn btn-secondary ms-2">Cancel</a>
  </form>
</div>

<script>
  const banner = document.getElementById('banner');
  if (banner.textContent.trim() !== "") {
    banner.style.display = 'block';
    setTimeout(() => {
      banner.style.display = 'none';
      window.location.href = "{{ url_for('home') }}";
    }, 3000);  // show for 3 seconds then redirect
  }
</script>

</body>
</html>
